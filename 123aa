local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local CoreGui = game:GetService("CoreGui")
local lastChest = nil

-- X√≥a GUI c≈© n·∫øu c√≥
if CoreGui:FindFirstChild("DeltaHub2") then
	CoreGui.DeltaHub:Destroy()
end

-- GUI setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "DeltaHub"
ScreenGui.Parent = CoreGui

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 440, 0, 120)
Frame.Position = UDim2.new(0.5, -220, 0.5, -200)
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Parent = ScreenGui

-- Thanh ti√™u ƒë·ªÅ
local TitleBar = Instance.new("Frame")
TitleBar.Size = UDim2.new(1, 0, 0, 36)
TitleBar.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
TitleBar.BorderSizePixel = 0
TitleBar.Parent = Frame

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -10, 1, 0)
Title.Position = UDim2.new(0, 10, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "ShopGameTrade"
Title.TextColor3 = Color3.fromRGB(255,255,255)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 14
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = TitleBar

-- N√∫t ƒëi·ªÅu khi·ªÉn
local ButtonHolder = Instance.new("Frame")
ButtonHolder.Size = UDim2.new(0, 250, 1, 0)
ButtonHolder.AnchorPoint = Vector2.new(1, 0)
ButtonHolder.Position = UDim2.new(1, -6, 0, 0)
ButtonHolder.BackgroundTransparency = 1
ButtonHolder.Parent = TitleBar

local function createTopButton(name, color)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(0, 70, 0, 24)
	btn.BackgroundColor3 = color
	btn.Text = name
	btn.TextColor3 = Color3.fromRGB(255,255,255)
	btn.Font = Enum.Font.SourceSansBold
	btn.TextSize = 14
	btn.AutoButtonColor = true
	btn.Parent = ButtonHolder
	return btn
end

local ButtonList = Instance.new("UIListLayout")
ButtonList.FillDirection = Enum.FillDirection.Horizontal
ButtonList.Padding = UDim.new(0, 6)
ButtonList.HorizontalAlignment = Enum.HorizontalAlignment.Right
ButtonList.VerticalAlignment = Enum.VerticalAlignment.Center
ButtonList.Parent = ButtonHolder

local CloseBtn = createTopButton("Close", Color3.fromRGB(200,50,50))
local MinBtn = createTopButton("Minimize", Color3.fromRGB(200,180,50))
local MaxBtn = createTopButton("Home", Color3.fromRGB(60,150,255))

-- Di chuy·ªÉn UI
local dragging = false
local dragStart, startPos
TitleBar.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = Frame.Position
	end
end)
TitleBar.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement and dragging then
		local delta = input.Position - dragStart
		Frame.Position = UDim2.new(
			startPos.X.Scale, startPos.X.Offset + delta.X,
			startPos.Y.Scale, startPos.Y.Offset + delta.Y
		)
	end
end)
UserInputService.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = false
	end
end)

-- Content ch√≠nh
local Content = Instance.new("Frame")
Content.Size = UDim2.new(1, 0, 1, -36)
Content.Position = UDim2.new(0, 0, 0, 36)
Content.BackgroundTransparency = 1
Content.Parent = Frame

local UIList = Instance.new("UIListLayout")
UIList.Padding = UDim.new(0, 6)
UIList.SortOrder = Enum.SortOrder.LayoutOrder
UIList.Parent = Content

-- ==========================
--  CUSTOM SCRIPT EDITOR
-- ==========================
local Editor = Instance.new("Frame")
Editor.Size = UDim2.new(0, 420, 0, 300)
Editor.Position = UDim2.new(0.5, -210, 0.5, -150)
Editor.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Editor.Visible = false
Editor.Active = true
Editor.Draggable = true
Editor.Parent = ScreenGui

local TextBox = Instance.new("TextBox")
TextBox.Size = UDim2.new(1, -20, 1, -80)
TextBox.Position = UDim2.new(0, 10, 0, 36)
TextBox.BackgroundColor3 = Color3.fromRGB(15,15,15)
TextBox.TextColor3 = Color3.fromRGB(255,255,255)
TextBox.MultiLine = true
TextBox.ClearTextOnFocus = false
TextBox.Font = Enum.Font.Code
TextBox.TextSize = 14
TextBox.Text = "-- Paste script here"
TextBox.Parent = Editor

local RunBtn = Instance.new("TextButton")
RunBtn.Size = UDim2.new(0, 100, 0, 28)
RunBtn.Position = UDim2.new(0, 10, 1, -36)
RunBtn.BackgroundColor3 = Color3.fromRGB(50, 150, 50)
RunBtn.Text = "Run"
RunBtn.TextColor3 = Color3.fromRGB(255,255,255)
RunBtn.Font = Enum.Font.SourceSansBold
RunBtn.TextSize = 14
RunBtn.Parent = Editor

local ClearBtn = Instance.new("TextButton")
ClearBtn.Size = UDim2.new(0, 100, 0, 28)
ClearBtn.Position = UDim2.new(0.5, -50, 1, -36)
ClearBtn.BackgroundColor3 = Color3.fromRGB(80,80,180)
ClearBtn.Text = "Clear"
ClearBtn.TextColor3 = Color3.fromRGB(255,255,255)
ClearBtn.Font = Enum.Font.SourceSansBold
ClearBtn.TextSize = 14
ClearBtn.Parent = Editor

local CloseEdBtn = Instance.new("TextButton")
CloseEdBtn.Size = UDim2.new(0, 100, 0, 28)
CloseEdBtn.Position = UDim2.new(1, -110, 1, -36)
CloseEdBtn.BackgroundColor3 = Color3.fromRGB(180,50,50)
CloseEdBtn.Text = "Close"
CloseEdBtn.TextColor3 = Color3.fromRGB(255,255,255)
CloseEdBtn.Font = Enum.Font.SourceSansBold
CloseEdBtn.TextSize = 14
CloseEdBtn.Parent = Editor

RunBtn.MouseButton1Click:Connect(function()
	local code = TextBox.Text
	local func, err = loadstring(code)
	if func then pcall(func) else warn("Syntax error:", err) end
end)

ClearBtn.MouseButton1Click:Connect(function()
	TextBox.Text = ""
end)

CloseEdBtn.MouseButton1Click:Connect(function()
	Editor.Visible = false
end)

-- ==========================
-- H√ÄM T·∫†O H√ÄNG N√öT (t·ªëi ƒëa 3 n√∫t)
-- ==========================
local function createRowButtons(buttons)
	local row = Instance.new("Frame")
	row.Size = UDim2.new(1, 0, 0, 40)
	row.BackgroundTransparency = 1
	row.Parent = Content

	local num = #buttons
	local spacing = 0.03
	local width = (1 - (spacing * (num - 1))) / num

	for i, info in ipairs(buttons) do
		local btn = Instance.new("TextButton")
		btn.Size = UDim2.new(width, 0, 1, 0)
		btn.Position = UDim2.new((i - 1) * (width + spacing), 0, 0, 0)
		btn.BackgroundColor3 = info.color or Color3.fromRGB(150, 100, 50)
		btn.Text = info.name
		btn.TextColor3 = Color3.fromRGB(255,255,255)
		btn.Font = Enum.Font.SourceSansBold
		btn.TextSize = 16
		btn.Parent = row
		btn.MouseButton1Click:Connect(info.action)
	end
end

-- ==========================
-- H√ÄNG 1: 3 n√∫t ch√≠nh
-- ==========================
createRowButtons({
	{
		name = "Inf",
		color = Color3.fromRGB(50, 120, 180),
		action = function()
			loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
		end
	},
	{
		name = "SC",
		color = Color3.fromRGB(80,150,80),
		action = function()
			Editor.Visible = true
		end
	},
	--{
	--	name = "Run SC",
	--	color = Color3.fromRGB(200,100,50),
	--	action = function()
	--		local code = TextBox.Text
	--	local func, err = loadstring(code)
	--	if func then pcall(func) else warn("Syntax error:", err) end
	--	end
	--},

{
		name = "Hub", -- üü¢ n√∫t m·ªõi
		color = Color3.fromRGB(80,80,200),
		action = function()
			-- üßπ 1Ô∏è‚É£ X√≥a Hub hi·ªán t·∫°i
			local gui = game:GetService("CoreGui"):FindFirstChild("DeltaHub")
			if gui then gui:Destroy() task.wait(1) end

			-- ‚öôÔ∏è 2Ô∏è‚É£ Load Hub m·ªõi
			loadstring(game:HttpGet('https://raw.githubusercontent.com/TranNhata/shopgametrade99/refs/heads/main/123aa'))()
			-- üëÜ Thay link tr√™n b·∫±ng link script hub m·ªõi c·ªßa b·∫°n (ho·∫∑c d√°n tr·ª±c ti·∫øp code v√†o ƒë√¢y)
		end
},
{
		name = "Hub 2", -- üü¢ n√∫t m·ªõi
		color = Color3.fromRGB(80,80,200),
		action = function()
			-- üßπ 1Ô∏è‚É£ X√≥a Hub hi·ªán t·∫°i
			local gui = game:GetService("CoreGui"):FindFirstChild("DeltaHub")
			if gui then gui:Destroy() task.wait(1) end

			-- ‚öôÔ∏è 2Ô∏è‚É£ Load Hub m·ªõi
			loadstring(game:HttpGet('https://raw.githubusercontent.com/TranNhata/shopgametrade99/refs/heads/main/123'))()
			-- üëÜ Thay link tr√™n b·∫±ng link script hub m·ªõi c·ªßa b·∫°n (ho·∫∑c d√°n tr·ª±c ti·∫øp code v√†o ƒë√¢y)
		end
},
{
		name = "SH", -- üü¢ n√∫t m·ªõi
		color = Color3.fromRGB(80,80,200),
		action = function()
		local hrp = game.Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")
		hrp.CFrame = workspace.Map.Landmarks.Stronghold.Building.Exterior.CFrame
		end
}
})
		


-- ==========================
-- H√ÄM TELEPORT V·ªÄ L·ª¨A TR·∫†I TR∆Ø·ªöC
-- ==========================
local function TeleToFireplace()
	local hrp = game.Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")
	local nearest, distance = nil, math.huge

	for _, obj in ipairs(workspace:GetDescendants()) do
		if obj.Name == "MainFire" or obj.Name == "Center" then
			if obj:IsA("BasePart") then
				local dist = (obj.Position - hrp.Position).Magnitude
				if dist < distance then
					nearest, distance = obj, dist
				end
			elseif obj:FindFirstChild("Main") then
				local dist = (obj.Main.Position - hrp.Position).Magnitude
				if dist < distance then
					nearest, distance = obj.Main, dist
				end
			end
		end
	end

	if nearest then
		hrp.CFrame = nearest.CFrame + Vector3.new(0, 10, 0)
		task.wait(0.8)
	end
end
-- ==========================
-- C√ÅC H√ÄNG D∆Ø·ªöI (t·ªëi ƒëa 3 n√∫t m·ªói h√†ng)
-- ==========================
createRowButtons({
	{name = "G·ªó", action = function()
		
		local player = game.Players.LocalPlayer
		local char = player.Character or player.CharacterAdded:Wait()
		local hrp = char:WaitForChild("HumanoidRootPart")

		local nearest, distance = nil, math.huge

		for _, obj in ipairs(workspace.Map.Foliage:GetChildren()) do
			if obj.Name == "Small Tree" and obj:FindFirstChild("Trunk") then
				local trunk = obj.Trunk
				if trunk:IsA("BasePart") then
					local dist = (trunk.Position - hrp.Position).Magnitude
					if dist < distance then
						nearest, distance = trunk, dist
					end
				end
			end
		end

		if nearest then
			-- teleport nh·∫π, tr√°nh b·ªã stuck trong model
			hrp.CFrame = nearest.CFrame + Vector3.new(0, 5, 0)
		end
	end},

	{name = "Coal", action = function()
		
		local hrp = game.Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")
		local nearest, distance = nil, math.huge

		for _, item in ipairs(workspace.Items:GetChildren()) do
			-- t√¨m "Coal" k·ªÉ c·∫£ n·∫±m trong model con
			local coalPart = item:FindFirstChild("Coal", true)
			if coalPart and coalPart:IsA("BasePart") then
				local dist = (coalPart.Position - hrp.Position).Magnitude
				if dist < distance then
					nearest, distance = coalPart, dist
				end
			end
		end

		if nearest then
			hrp.CFrame = nearest.CFrame + Vector3.new(0, 5, 0)
		end
	end},

	{name = "XƒÉng", action = function()
		
		local hrp = game.Players.LocalPlayer.Character.HumanoidRootPart
		local nearest, distance = nil, math.huge

		for _, item in ipairs(workspace.Items:GetChildren()) do
			if item.Name == "Fuel Canister" then
				local capPart = item:FindFirstChild("Cap", true) -- t√¨m c·∫£ trong con ch√°u
				if capPart and capPart:IsA("BasePart") then
					local dist = (capPart.Position - hrp.Position).Magnitude
					if dist < distance then
						nearest, distance = capPart, dist
					end
				end
			end
		end

		if nearest then
			hrp.CFrame = nearest.CFrame + Vector3.new(0, 5, 0)
		end
	end},

	{name = "Gi√°p", action = function()
		
		local hrp = game.Players.LocalPlayer.Character.HumanoidRootPart
		local nearest, distance = nil, math.huge

		for _, item in ipairs(workspace.Items:GetChildren()) do
			if item.Name == "Leather Body" then
				local capPart = item:FindFirstChild("Main", true) -- t√¨m c·∫£ trong con ch√°u
				if capPart and capPart:IsA("BasePart") then
					local dist = (capPart.Position - hrp.Position).Magnitude
					if dist < distance then
						nearest, distance = capPart, dist
					end
				end
			end
		end

		if nearest then
			hrp.CFrame = nearest.CFrame + Vector3.new(0, 5, 0)
		end
	end},




})


createRowButtons({
	{name = "Fan", action = function()
		
		local hrp = game.Players.LocalPlayer.Character.HumanoidRootPart
		local nearest, distance = nil, math.huge

		for _, item in ipairs(workspace.Items:GetChildren()) do
			if item.Name == "Broken Fan" then
				local capPart = item:FindFirstChild("Fans", true) -- t√¨m c·∫£ trong con ch√°u
				if capPart and capPart:IsA("BasePart") then
					local dist = (capPart.Position - hrp.Position).Magnitude
					if dist < distance then
						nearest, distance = capPart, dist
					end
				end
			end
		end

		if nearest then
			hrp.CFrame = nearest.CFrame + Vector3.new(0, 5, 0)
		end
	end},

	{name = "Radio", action = function()
		
		local hrp = game.Players.LocalPlayer.Character.HumanoidRootPart
		local nearest, distance = nil, math.huge

		for _, item in ipairs(workspace.Items:GetChildren()) do
			if item.Name == "Old Radio" then
				local capPart = item:FindFirstChild("Main", true) -- t√¨m c·∫£ trong con ch√°u
				if capPart and capPart:IsA("BasePart") then
					local dist = (capPart.Position - hrp.Position).Magnitude
					if dist < distance then
						nearest, distance = capPart, dist
					end
				end
			end
		end

		if nearest then
			hrp.CFrame = nearest.CFrame + Vector3.new(0, 5, 0)
		end
	end},

	{name = "Micr", action = function()
		
			local hrp = game.Players.LocalPlayer.Character.HumanoidRootPart
			local nearest, distance = nil, math.huge

			for _, item in ipairs(workspace.Items:GetChildren()) do
				if item.Name == "Broken Microwave" then
					local capPart = item:FindFirstChild("Main", true) -- t√¨m c·∫£ trong con ch√°u
					if capPart and capPart:IsA("BasePart") then
						local dist = (capPart.Position - hrp.Position).Magnitude
						if dist < distance then
							nearest, distance = capPart, dist
						end
					end
				end
			end

			if nearest then
				hrp.CFrame = nearest.CFrame + Vector3.new(0, 5, 0)
			end
		end},

		
	{name = "Tr·∫ª Em", action = function()
			local chars = workspace.Characters
			for i = 1, 4 do
				local child = chars["Lost Child"..(i > 1 and i or "")]
				if child then
					hrp.CFrame = child.Head.CFrame + Vector3.new(5,5,5)
					wait(5)
				end
			end
		end}
})
createRowButtons({
	{name = "Rifle", action = function()
		local hrp = game.Players.LocalPlayer.Character.HumanoidRootPart
		local nearest, distance = nil, math.huge
		for _, item in ipairs(workspace.Items:GetChildren()) do
			if item.Name == "Rifle" then
				local capPart = item:FindFirstChild("Adorn", true) -- t√¨m c·∫£ trong con ch√°u
				if capPart and capPart:IsA("BasePart") then
					local dist = (capPart.Position - hrp.Position).Magnitude
					if dist < distance then
						nearest, distance = capPart, dist
					end
				end
			end
		end
		if nearest then
			hrp.CFrame = nearest.CFrame + Vector3.new(0, 5, 0)
		end
	end},

	{name = "Ammo Rifle", action = function()
		local hrp = game.Players.LocalPlayer.Character.HumanoidRootPart
		local nearest, distance = nil, math.huge
		for _, item in ipairs(workspace.Items:GetChildren()) do
			if item.Name == "Rifle Ammo" then
				local capPart = item:FindFirstChild("Part", true) -- t√¨m c·∫£ trong con ch√°u
				if capPart and capPart:IsA("BasePart") then
					local dist = (capPart.Position - hrp.Position).Magnitude
					if dist < distance then
						nearest, distance = capPart, dist
					end
				end
			end
		end
		if nearest then
			hrp.CFrame = nearest.CFrame + Vector3.new(0, 5, 0)
		end
	end},

	{name = "Revolver", action = function()
		local hrp = game.Players.LocalPlayer.Character.HumanoidRootPart
		local nearest, distance = nil, math.huge
		for _, item in ipairs(workspace.Items:GetChildren()) do
			if item.Name == "Revolver" then
				local capPart = item:FindFirstChild("Pin", true) -- t√¨m c·∫£ trong con ch√°u
				if capPart and capPart:IsA("BasePart") then
					local dist = (capPart.Position - hrp.Position).Magnitude
					if dist < distance then
						nearest, distance = capPart, dist
					end
				end
			end
		end
		if nearest then
			hrp.CFrame = nearest.CFrame + Vector3.new(0, 5, 0)
		end
	end},

	{name = "Revolver Ammo", action = function()
		local hrp = game.Players.LocalPlayer.Character.HumanoidRootPart
		local nearest, distance = nil, math.huge
		for _, item in ipairs(workspace.Items:GetChildren()) do
			if item.Name == "Revolver Ammo" then
				local capPart = item:FindFirstChild("Part", true) -- t√¨m c·∫£ trong con ch√°u
				if capPart and capPart:IsA("BasePart") then
					local dist = (capPart.Position - hrp.Position).Magnitude
					if dist < distance then
						nearest, distance = capPart, dist
					end
				end
			end
		end
		if nearest then
			hrp.CFrame = nearest.CFrame + Vector3.new(0, 5, 0)
		end
	end},
})
createRowButtons({
		{name = "Bandage", action = function()
			
			local hrp = game.Players.LocalPlayer.Character.HumanoidRootPart
			local nearest, distance = nil, math.huge

			for _, item in ipairs(workspace.Items:GetChildren()) do
				if item.Name == "Bandage" then
					local capPart = item:FindFirstChild("Tie", true) -- t√¨m c·∫£ trong con ch√°u
					if capPart and capPart:IsA("BasePart") then
						local dist = (capPart.Position - hrp.Position).Magnitude
						if dist < distance then
							nearest, distance = capPart, dist
						end
					end
				end
			end

			if nearest then
				hrp.CFrame = nearest.CFrame + Vector3.new(10, 5, 0)
			end
		end},

	})

-- ==========================
-- Minimize / Maximize
-- ==========================
local tweenInfo = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
local minimized = false
local maximized = false
local savedSize, savedPos = Frame.Size, Frame.Position

local function minimize()
	if minimized then return end
	minimized = true
	savedSize = Frame.Size
	savedPos = Frame.Position
	TweenService:Create(Frame, tweenInfo, {Size = UDim2.new(0, 220, 0, 36)}):Play()
	task.delay(0.22, function() Content.Visible = false end)
end

local function restore()
	if not minimized then return end
	minimized = false
	Content.Visible = true
	TweenService:Create(Frame, tweenInfo, {Size = savedSize, Position = savedPos}):Play()
end

MinBtn.MouseButton1Click:Connect(function()
	if minimized then restore() else minimize() end
end)

MaxBtn.MouseButton1Click:Connect(function()
local luatrai = CFrame.new(6,2,-10) + Vector3.new(10, 10, 0)
		hrp.CFrame = luatrai
end)

CloseBtn.MouseButton1Click:Connect(function()
	ScreenGui:Destroy()
end)

UserInputService.InputBegan:Connect(function(input, gp)
	if gp then return end
	if input.KeyCode == Enum.KeyCode.K then
		if minimized then restore() else minimize() end
	end
end)
